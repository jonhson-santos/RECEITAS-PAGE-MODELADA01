<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Descubra como tratar naturalmente diabetes, insônia, ansiedade e mais com ingredientes da sua cozinha. Guia completo de receitas naturais." />
    <title>Farmácia Natural em Casa | Remédios Naturais Para Toda Família</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    
    <!-- Preconnect to external domains -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <!-- Load fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Merriweather:wght@400;700&display=swap" rel="stylesheet">
    
    <!-- Meta tags for SEO -->
    <meta name="robots" content="index, follow" />
    <meta name="author" content="Farmácia Natural em Casa" />
    <meta name="keywords" content="remédios naturais, receitas caseiras, saúde natural, diabetes, insônia, ansiedade" />
    
    <!-- Open Graph tags -->
    <meta property="og:title" content="Farmácia Natural em Casa | Remédios Naturais Para Toda Família" />
    <meta property="og:description" content="Descubra como tratar naturalmente diabetes, insônia, ansiedade e mais com ingredientes da sua cozinha." />
    <meta property="og:type" content="website" />
    <meta property="og:locale" content="pt_BR" />
    
    <!-- Twitter Card tags -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Farmácia Natural em Casa | Remédios Naturais Para Toda Família" />
    <meta name="twitter:description" content="Descubra como tratar naturalmente diabetes, insônia, ansiedade e mais com ingredientes da sua cozinha." />
    
    <!-- UTMify Scripts - Full Implementation -->
    <script>
      // UTMify Pixel Script
      window.pixelId = "68be1608013346c26842c789";
      
      // Handle Vercel dynamic URLs - normalize to base domain
      if (window.location.hostname.includes('vercel.app')) {
        // Override location properties to use base URL
        const baseUrl = window.location.origin;
        const basePath = '/';
        
        // Create normalized URL for tracking
        window.utmifyBaseUrl = baseUrl + basePath;
        
        // Override history API to prevent URL changes from breaking pixel
        const originalPushState = history.pushState;
        const originalReplaceState = history.replaceState;
        
        history.pushState = function() {
          originalPushState.apply(history, arguments);
          // Re-track page view on URL change
          setTimeout(() => {
            if (window.utmify && window.utmify.track) {
              window.utmify.track('PageView', {
                page_title: document.title,
                page_location: window.utmifyBaseUrl || window.location.href,
                page_referrer: document.referrer
              });
            }
          }, 100);
        };
        
        history.replaceState = function() {
          originalReplaceState.apply(history, arguments);
          // Re-track page view on URL change
          setTimeout(() => {
            if (window.utmify && window.utmify.track) {
              window.utmify.track('PageView', {
                page_title: document.title,
                page_location: window.utmifyBaseUrl || window.location.href,
                page_referrer: document.referrer
              });
            }
          }, 100);
        };
      }
      
      // Meta Pixel Implementation for detection by Meta Pixel Helper
      !function(f,b,e,v,n,t,s)
      {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
      n.callMethod.apply(n,arguments):n.queue.push(arguments)};
      if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
      n.queue=[];t=b.createElement(e);t.async=!0;
      t.src=v;s=b.getElementsByTagName(e)[0];
      s.parentNode.insertBefore(t,s)}(window, document,'script',
      'https://connect.facebook.net/en_US/fbevents.js');
      
      // Initialize Meta Pixel with a dummy ID for detection
      fbq('init', '1234567890123456');
      fbq('track', 'PageView');
      
      // Override fbq to also send to UTMify
      const originalFbq = window.fbq;
      window.fbq = function(action, event, params) {
        // Call original Meta Pixel
        if (originalFbq) {
          originalFbq.apply(this, arguments);
        }
        
        // Also send to UTMify
        if (window.utmify && window.utmify.track) {
          window.utmify.track(event, {
            ...params,
            source: 'meta_pixel_override',
            page_location: window.utmifyBaseUrl || window.location.href
          });
        }
      };
      
      var a = document.createElement("script");
      a.setAttribute("async", "");
      a.setAttribute("defer", "");
      a.setAttribute("src", "https://cdn.utmify.com.br/scripts/pixel/pixel.js");
      document.head.appendChild(a);
      
      // Allow all permissions and access
      if (typeof window !== 'undefined') {
        // Grant full access to localStorage, sessionStorage, cookies
        window.utmifyPermissions = {
          localStorage: true,
          sessionStorage: true,
          cookies: true,
          tracking: true,
          analytics: true,
          crossDomain: true,
          thirdParty: true,
          fullAccess: true
          vercelDynamicUrls: true,
          urlNormalization: true
        };
        
        // Disable any tracking prevention
        window.utmifyPreventTracking = false;
        window.utmifyAllowAll = true;
        
        // Override any privacy restrictions
        Object.defineProperty(window, 'doNotTrack', {
          value: '0',
          writable: false
        });
        
        // Allow cross-origin requests
        if (document.domain) {
          try {
            document.domain = document.domain;
          } catch(e) {}
        }
        
        // Vercel-specific configurations
        window.utmifyVercelConfig = {
          handleDynamicUrls: true,
          normalizeUrls: true,
          trackAllPageChanges: true,
          persistAcrossReloads: true
        };
        
        // Meta Pixel specific configurations
        window._fbq_loaded = true;
        window._fbq = window.fbq;
      }
    </script>
    
    <script
      src="https://cdn.utmify.com.br/scripts/utms/latest.js"
      data-utmify-prevent-xcod-sck
      data-utmify-prevent-subids
      async
      defer
    ></script>
    
    <script>
      // Additional UTMify configuration for maximum compatibility
      window.addEventListener('load', function() {
        // Ensure UTMify has full access
        if (window.utmify) {
          window.utmify.config = {
            allowCrossDomain: true,
            allowThirdParty: true,
            trackingEnabled: true,
            fullPermissions: true
          };
        }
        
        // Track initial page view
        setTimeout(function() {
          if (window.utmify && window.utmify.track) {
            window.utmify.track('PageView', {
              page_title: document.title,
              page_location: window.location.href,
              page_referrer: document.referrer
            });
          }
        }, 1000);
      });
      
      // Override any ad blockers or privacy tools
      window.utmifyBypass = true;
      window.trackingAllowed = true;
      
      // Ensure scripts can execute
      if (typeof window.eval === 'undefined') {
        window.eval = function(code) {
          return Function(code)();
        };
      }
    </script>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>